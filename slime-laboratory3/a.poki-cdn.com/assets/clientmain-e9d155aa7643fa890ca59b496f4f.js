"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[4091],{1563:(e,t,n)=>{n.d(t,{FV:()=>i,ZP:()=>a,_I:()=>s,sc:()=>r});const o=(0,n(9829).oM)({name:"notifications",initialState:{stack:[],muted:[]},reducers:{setNotification:(e,t)=>{const{notification:n}=t.payload;n.id=n.id||Date.now(),n.isClosed=n.isClosed||!1,e.stack.push(n)},removeNotification:(e,t)=>{e.stack=e.stack.filter((e=>e.id!==t.payload.id))},setCloseNotification:(e,t)=>{const{id:n}=t.payload;e.stack=e.stack.map((t=>t.id===n?(t.muteAfterClose&&e.muted.push(n),{...t,isClosed:!0}):t))}}}),{setNotification:r,removeNotification:i,setCloseNotification:s}=o.actions,a=o},8971:(e,t,n)=>{n.d(t,{AF:()=>A,UL:()=>C,ZP:()=>R,hF:()=>q,ik:()=>S,ql:()=>$,rw:()=>O,v2:()=>P,w6:()=>k});var o=n(9829),r=n(5482),i=n(3182),s=n(7986),a=n(6241),c=n(8939),l=n(9686),d=n(7160),u=n(3067),p=n(4481),h=n(2971);const m=`${(0,l.Lq)()}/search/query`,g=`${(0,l.Lq)()}/category`,v={content:[]},f={query:"",expanded:!1,results:v,pending:!1,doneOnce:!1,error:!1,popularSearches:[],searchSessionId:0,quickSearchCategories:[]},y=(e,t,n)=>({data:(0,d.zP)(e,t,n),score:(null==n?void 0:n.score)||("game"===t?1:0)});function w(e){let{site:t,device:n,hits:o}=e;const r=function(e){var t,n;let{site:o,device:r,hits:i}=e;const s=(null==i||null===(t=i.categories)||void 0===t?void 0:t.map((e=>y(o,"category",e))))||[],a=(null==i||null===(n=i.games)||void 0===n?void 0:n.map((e=>y(o,"game",e))))||[];return{categories:s,games:"mobile"===r?a.filter((e=>e.data.mobile)):a}}({site:t,device:n,hits:o}),i=[...r.categories.map((e=>({...e,category:!0}))),...r.games];return i.sort(((e,t)=>t.score-e.score)),"mobile"===n&&i.splice(50),i}function b(e){let{state:t,query:n,numberOfResults:o=0,isQuickCategorySearch:r=!1}=e;const a=(0,s.ZM)(t),c=(0,i.Wj)(t),l=o>0?"success":"empty";(0,u.A)({category:"search",action:"results",label:c,data:{query:n,result:l,numberOfResults:o,searchSessionId:a,isQuickCategorySearch:r}})}const k=(0,o.hg)("search/fetchSearch",(async(e,t)=>{if(e.query.length<2)return{content:[]};const n=t.getState(),o=(0,a.lH)(n),i=(0,r.Si)(n),s=(0,r.Zn)(n),l=(0,c.d)(n),d=await fetch(`${m}/${o.id}?q=${encodeURIComponent(e.query)}&device=${i}&country=${s}${l?`&experiment=${l}`:""}`),u=await d.json();if(!u.categories.length&&!u.games.length)return b({state:n,query:e.query}),{content:[]};const p=w({site:o,device:i,hits:u});return b({state:n,query:e.query,numberOfResults:p.length}),{content:p}})),A=(0,o.hg)("search/fetchQuickSearchCategories",(async(e,t)=>{const n=t.getState(),o=(0,a.lH)(n),i=(0,r.Zn)(n),s=(0,r.Si)(n),c=await fetch(`${(0,l.Lq)()}/quicksearch?site=${o.id}&country=${i}&device=${s}`);return(await c.json()).map((e=>{let{title:t,slug:n}=e;return{title:t,slug:n,url:(0,p.Ep)(o,"category",n)}}))})),S=(0,o.hg)("search/fetchSearchCategoryResults",(async(e,t)=>{if(!e)return{content:[]};const n=t.getState(),o=(0,a.lH)(n),i=(0,r.Si)(n),s=(0,r.Zn)(n),l=(0,c.d)(n),d=await fetch(`${g}/${encodeURIComponent(e)}?site=${o.id}&device=${i}&country=${s}${l?`&experiment=${l}`:""}`),u=await d.json(),p={categories:u.related_categories||[],games:u.games||[]};return b({state:n,query:e,numberOfResults:p.categories.length+p.games.length,isQuickCategorySearch:!0}),{content:w({site:o,device:i,hits:p})}})),E=(0,o.oM)({name:"search",initialState:f,reducers:{closeSearch(e){e.expanded=!1,e.doneOnce=!1,e.error=!1,e.pending=!1,e.results=v},openSearch(e){e.searchSessionId=(0,h.V)(),e.expanded=!0,e.query=""},setSearchQuery(e,t){e.query=t.payload.query},resetSearch(e){e.query="",e.results=v,e.pending=!1,e.doneOnce=!1,e.error=!1},closeSearchIfOpen(e){e.expanded&&(e.expanded=!1)}},extraReducers:e=>{e.addCase(k.pending,(e=>{e.pending=!0})).addCase(k.fulfilled,((e,t)=>{e.pending=!1,e.results=[...t.payload.content]})).addCase(k.rejected,(e=>{e.pending=!1,e.error=!0})).addCase(S.pending,(e=>{e.pending=!0})).addCase(S.fulfilled,((e,t)=>{e.pending=!1,e.results=[...t.payload.content]})).addCase(S.rejected,(e=>{e.pending=!1,e.error=!0})).addCase(A.fulfilled,((e,t)=>{e.quickSearchCategories=t.payload}))}}),{closeSearch:q,openSearch:C,setSearchQuery:$,resetSearch:P,closeSearchIfOpen:O}=E.actions,R=E},3367:(e,t,n)=>{n.d(t,{Z:()=>f});var o=n(8661),r=n(6727),i=n(1366),s=n(1524),a=n(648),c=n(9774),l=n(8356),d=n(3682),u=n(4481);const p=(0,r.ZP)({resolved:{},chunkName:()=>"app-components-PageHome",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(9590),n.e(4593),n.e(241),n.e(5969),n.e(4639)]).then(n.bind(n,8818)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 8818}},{fallback:o.default.createElement(a.default,null)}),h=(0,r.ZP)({resolved:{},chunkName:()=>"app-components-PageCategory",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(9590),n.e(4593),n.e(5465)]).then(n.bind(n,2036)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 2036}},{fallback:o.default.createElement(c.default,null)}),m=(0,r.ZP)({resolved:{},chunkName:()=>"app-components-PageGame",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(9590),n.e(4593),n.e(2386),n.e(9834),n.e(8147),n.e(2539),n.e(8039),n.e(3389)]).then(n.bind(n,5282)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 5282}},{fallback:o.default.createElement(l.default,null)}),g=(0,r.ZP)({resolved:{},chunkName:()=>"app-components-PageError",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(9590),n.e(4593),n.e(8039)]).then(n.bind(n,670)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 670}},{fallback:o.default.createElement(d.default,null)}),v=(0,r.ZP)({resolved:{},chunkName:()=>"app-components-PageContent",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(9733),n.e(9083)]).then(n.bind(n,1573)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 1573}},{fallback:o.default.createElement(d.default,null)});function f(e){let{ssrPath:t,ssrSearch:n,site:r}=e;return o.default.createElement(i.F0,{ssrPath:t,ssrSearch:n,hook:s.tL},o.default.createElement(i.rs,null,o.default.createElement(i.AW,{path:`${(0,u.Ep)(r,"home","")}`,component:p}),o.default.createElement(i.AW,{nest:!0,path:`${(0,u.Ep)(r,"game",":slug")}`,component:m}),o.default.createElement(i.AW,{nest:!0,path:`${(0,u.Ep)(r,"content",":slug")}`,component:v}),o.default.createElement(i.AW,{nest:!0,path:`${(0,u.Ep)(r,"preview",":slug")}`,component:m}),o.default.createElement(i.AW,{nest:!0,path:`${(0,u.Ep)(r,"mystery",":slug")}`,component:m}),o.default.createElement(i.AW,{path:`${(0,u.Ep)(r,"category",":slug")}`,component:h}),o.default.createElement(i.AW,{component:g})))}},9686:(e,t,n)=>{n.d(t,{Lq:()=>c,Ns:()=>d,UO:()=>u,ZP:()=>l});var o=n(4762),r=n(2065),i=n(2323);const s="undefined"!=typeof XMLHttpRequest?XMLHttpRequest:n.n(i)();function a(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=`${e}${t}`;return arguments.length>3&&void 0!==arguments[3]&&arguments[3]?fetch(r,n):(0,o.h)({createXHR:()=>new s,url:r,...n,crossDomain:!0})}function c(){let e={acceptance:"https://api-acceptance.poki.io",production:"https://api.poki.com",local:"http://localhost:10019"};"undefined"==typeof window&&"cluster"===process.env.DEPLOY_ENV&&(e={acceptance:"http://content.mothership.svc.cluster.local",production:"http://content.mothership.svc.cluster.local",local:"http://localhost:10019"}),"undefined"==typeof window&&process.env.OVERWRITE_API_LOCATION&&(e={acceptance:process.env.OVERWRITE_API_LOCATION,production:process.env.OVERWRITE_API_LOCATION,local:process.env.OVERWRITE_API_LOCATION});return e[(0,r.dK)()]||"https://api.poki.com"}function l(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a(c(),e,t,n)}function d(e,t){const n={acceptance:"https://vote-acceptance.poki.io",production:"https://vote.poki.io",local:"http://localhost:10066"};return a(n[(0,r.dK)()]||n.production,e,t)}function u(e,t){return a("https://t.poki.io",e,t)}},3520:(e,t,n)=>{n.d(t,{baseBackgrounds:()=>o});const o={default:{style:"default"},preview:{color:"var(--grey-7)",image:"https://a.poki-cdn.com/images/bg-diamante-lowpo.svg",style:"tile"},mystery:{color:"var(--yellow-8)",imageLeft:"https://a.poki-cdn.com/cdn-cgi/image/f=auto,quality=78/images/bg-playtest-left.png",imageRight:"https://a.poki-cdn.com/cdn-cgi/image/f=auto,quality=78/images/bg-playtest-right.png",style:"dual-cover"}}},9598:(e,t,n)=>{n.d(t,{Z:()=>v});var o=n(9829),r=n(5545),i=n(6201),s=n(6241),a=n(6128),c=n(8734),l=n(9459),d=n(9927),u=n(1563),p=n(93),h=n(552),m=n(8132);function g(e){return Object.values(h.h).reduce(((e,t)=>{if("undefined"==typeof window)return e;try{const n=(0,m.rV)(t.key);if(n){const o=JSON.parse(n);t.validator(o)?e[t.rootKey][t.childKey]=o:localStorage.removeItem(t.key)}}catch(e){localStorage.removeItem(t.key)}return e}),e)}function v(e,t,h){const m=(0,r.k)({dependencies:{createApi:p.Z}}),{createReduxHistory:v,routerMiddleware:f}=(0,i.v4)({history:e}),y=(0,a.Z)(e),w=(0,o.xC)({reducer:y,middleware:e=>e({serializableCheck:{ignoredActions:[d.y6.type,d.OB.type,u.sc.type],ignoredPaths:["notifications"]}}).concat([f,m,l.gk.middleware]),preloadedState:g(h)});return"undefined"!=typeof window&&(window.store=w,(0,c.ET)((0,s.u)(w.getState()))),v(w),"function"==typeof t&&m.run(t),"undefined"!=typeof window&&n.e(2593).then(n.bind(n,2593)).then((e=>{let{fireCombinedAsyncEpics:t}=e;"function"==typeof requestIdleCallback?requestIdleCallback((()=>{t()}),{timeout:2e3}):setTimeout((()=>{t()}),1)})),w}},7160:(e,t,n)=>{n.d(t,{Pi:()=>i,dr:()=>s,zP:()=>r});var o=n(4481);function r(e,t,n){let r,{id:i,developer:s,slug:a,image:c,image_alt:l,mobile:d,title:u,media:p,is_new:h,animated_thumbnail:m,iab_categories:g}=n;if(p){var v;const e=p.filter((e=>"video"===e.type));e.length>1&&e.sort(((e,t)=>(null==e?void 0:e.position)>(null==t?void 0:t.position)?1:-1)),r=null===(v=e[0])||void 0===v?void 0:v.path}return{id:i,developer:s,mobile:d,title:u,type:t,image:c,imageAlt:l,url:(0,o.Ep)(e,t,a),slug:a,video:r,isNew:h,animatedThumbnail:m,iabCategories:g}}function i(e){return e.filter((e=>e.mobile))}function s(){let e=arguments.length>1?arguments[1]:void 0;return"mobile"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"desktop")?[...e].sort(((e,t)=>e.mobile===t.mobile?0:e.mobile?-1:1)):e}},6805:(e,t,n)=>{function o(e){const t=`poki/${e}`,n=e=>({type:t,...e});return n.type=t,n}n.d(t,{Z:()=>o})},93:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(9686);const r={api:o.ZP,vote:o.Ns,tracking:o.UO};function i(){return r[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"api"]}},1322:(e,t,n)=>{async function o(){var e,t,n;if(null!==(e=navigator)&&void 0!==e&&null!==(t=e.userAgent)&&void 0!==t&&t.includes("HeadlessChrome"))return!0;try{var o,r,i;const e=["fullVersionList"],t=await(null===(o=navigator)||void 0===o||null===(r=o.userAgentData)||void 0===r?void 0:r.getHighEntropyValues(e));if(null!=t&&null!==(i=t.brands)&&void 0!==i&&i.some((e=>e.brand.includes("HeadlessChrome"))))return!0}catch(a){}if(null!==(n=navigator)&&void 0!==n&&n.webdriver)return!0;let s=!1;const a=new Error;return Object.defineProperty(a,"stack",{get(){s=!0}}),console.log(a),s}n.d(t,{Z:()=>o})},9312:(e,t,n)=>{n.d(t,{Z:()=>o});const o=()=>({width:window.innerWidth||window.document.documentElement.clientWidth||window.document.body.clientWidth,height:window.innerHeight||window.document.documentElement.clientHeight||window.document.body.clientHeight})},3067:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(2831);const r="undefined"!=typeof window&&new URLSearchParams(window.location.search).has("verboseLogging");function i(e){var t,n;let{category:i,action:s,label:a,data:c,options:l}=e;if("undefined"==typeof window)return;const d=window;if(d.context=(0,o.p)(d.store.getState()),r&&console.info(`[pushEvent] ${i} ${s} ${a}`,c,l),(null===(t=d.context)||void 0===t||!t.isPokiAnalyticsEnabled)&&"settingsUpdated"!==s)return;let u=`${i}-${s}`;s||(u=i),a&&(u+=`-${a}`),null===(n=d.pokiGTM)||void 0===n||n.push({event:u,category:i,action:s,label:a,data:c||{},options:l||{}})}}}]);